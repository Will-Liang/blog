(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{446:function(a,e,t){"use strict";t.r(e);var s=t(2),r=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"_1-数据的增加"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-数据的增加"}},[a._v("#")]),a._v(" 1 数据的增加")]),a._v(" "),e("blockquote",[e("p",[a._v("注意：插入文档时，如果不指定_id参数，MongoDB会为文档分配一个唯一的ObjectId")])]),a._v(" "),e("h3",{attrs:{id:"_1-1-insert"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-insert"}},[a._v("#")]),a._v(" 1.1 insert")]),a._v(" "),e("blockquote",[e("p",[a._v("而insert则会忽略操作,insert可以一次性插入一个列表，而不用遍历，效率高")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('db.集合名称.insert(document)\ndb.student.insert({"name":"刘备"})\n')])])]),e("h3",{attrs:{id:"_1-2-save"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-save"}},[a._v("#")]),a._v(" 1.2 save")]),a._v(" "),e("blockquote",[e("p",[a._v("使用save函数里，如果原来的对象不存在，那他们都可以向collection里插入数据，如果已经存在，save会调用update更新里面的记录,save则需要遍历列表，一个个插入，效率稍低")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('db.集合名称.save(document)\ndb.student.save({"name":"孙权"})\ndb.student.save([{"name":"曹金"},{"name":"曹植"}])\n')])])]),e("h3",{attrs:{id:"_1-3-举例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-举例"}},[a._v("#")]),a._v(" 1.3 举例")]),a._v(" "),e("p",[a._v("已存在数据：  "),e("code",[a._v('{_id : \'abc123\', " name " : " 小王 " }')])]),a._v(" "),e("p",[a._v("再次进行插入操作时　"),e("code",[a._v('insert({_id : \'abc123\', " name " : " 小李 " })')]),a._v(" 会报主键重复的错误提示")]),a._v(" "),e("p",[e("code",[a._v('save({ _id : \'abc123\', " name " : " 小李 " })')]),a._v("    会把 小王 修改为 小李")]),a._v(" "),e("p",[a._v("如果集合中不存在 "),e("code",[a._v("_id : 'abc123'")]),a._v("，")]),a._v(" "),e("p",[e("code",[a._v('insert({_id : \'abc123\', " name " : " 小李 " })')]),a._v("    增加一条数据")]),a._v(" "),e("p",[e("code",[a._v('save({ _id : \'abc123\', " name " : " 小李 " })')]),a._v("    增加一条数据")]),a._v(" "),e("h3",{attrs:{id:"_1-4-增加多条"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-增加多条"}},[a._v("#")]),a._v(" 1.4 增加多条")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("db.集合名.insert([{k1:v1},{k2:v2}])\n")])])]),e("h2",{attrs:{id:"_2-数据的修改"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-数据的修改"}},[a._v("#")]),a._v(" 2 数据的修改")]),a._v(" "),e("h3",{attrs:{id:"_2-1-格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-格式"}},[a._v("#")]),a._v(" 2.1 格式")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("db.集合名称.update(\n   <query>,\n   <update>,\n   {multi: <boolean>}\n)\n")])])]),e("ul",[e("li",[a._v("参数query:查询条件，类似sql语句update中where部分")]),a._v(" "),e("li",[a._v("参数update:更新操作符，类似sql语句update中set部分")]),a._v(" "),e("li",[a._v("参数multi:可选，默认是false，表示只更新找到的第一条记录，值为true表示把满足条件的文档全部更新")])]),a._v(" "),e("h3",{attrs:{id:"_2-2-举例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-举例"}},[a._v("#")]),a._v(" 2.2 举例")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('# 只更新找到的第一条，并且会修改结构\ndb.person.update({name:"zs"},{age:16})\n# 只更新数据，不更新文档结构\ndb.person.update({name:"zs"},{$set:{age:123}})\n# 更新所有找到匹配的数据\ndb.person.update({name:"zs"},{$set:{age:123}}, {multi: true})\n')])])]),e("h2",{attrs:{id:"_3-数据的删除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-数据的删除"}},[a._v("#")]),a._v(" 3 数据的删除")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('# 删除所有匹配数据\ndb.student.remove({name:"zs"})\n# 只更新一条\ndb.student.remove({name:"zss"},{justOne:true})\n')])])]),e("h2",{attrs:{id:"_4-数据的查找"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-数据的查找"}},[a._v("#")]),a._v(" 4 数据的查找")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("db.集合名.find()\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);